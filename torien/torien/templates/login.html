<div class="">
    {% if message == '' %}
    <form method="post" action="javascript:void(null);" onsubmit="call()" id="ajax_form">
        {% csrf_token %}
        {{form.as_p}}
        <input type="submit" value="Вход" id="btn">
    </form>
    <div id="result_form"></div>
    {% endif %}
</div>
<script type="text/javascript" language="javascript">
    function call() {
        var msg = $('#ajax_form').serialize();
        $.ajax({
            type: 'POST',
            url: 'login/',
            data: msg,
            success: function (data) {
                result = $.parseJSON(data);
                if (result.message === 'ok') {
                    window.open('/', '_self');
                } else {
                    $('#result_form').html(data);
                }
            },
            error: function (xhr, str) {
                alert('Возникла ошибка: ' + xhr.responseCode);
            }
        });

    }
</script>